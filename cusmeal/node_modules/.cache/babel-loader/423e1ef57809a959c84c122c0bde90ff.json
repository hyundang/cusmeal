{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst useHistoryState = (initialState, key) => {\n  _s();\n\n  var _history$location$sta;\n\n  const history = useHistory();\n  const stateValue = (_history$location$sta = history.location.state) === null || _history$location$sta === void 0 ? void 0 : _history$location$sta[key];\n  history.replace(0);\n  const [historyState, setHistoryState] = useState(stateValue === undefined ? initialState : stateValue);\n  const setState = useCallback((state, replace = false) => {\n    const value = state instanceof Function ? state(historyState) : state;\n    setHistoryState(() => value);\n    history.replace({\n      state: replace ? value : { ...history.location.state,\n        [key]: value\n      }\n    });\n  }, [history, historyState, key]);\n  return [historyState, setState];\n};\n\n_s(useHistoryState, \"gtJHfsF8WsvncVyLYBQ/NIA4Pzs=\", false, function () {\n  return [useHistory];\n});\n\nexport default useHistoryState;","map":{"version":3,"sources":["C:/Users/user/Desktop/이현진/sw매이커톤/16-Team-Repository/cusmeal/src/modules/useHistoryState.js"],"names":["useState","useCallback","useHistory","useHistoryState","initialState","key","history","stateValue","location","state","replace","historyState","setHistoryState","undefined","setState","value","Function"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,eAAe,GAAG,CAACC,YAAD,EAAeC,GAAf,KAAuB;AAAA;;AAAA;;AAC7C,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAMK,UAAU,4BAAGD,OAAO,CAACE,QAAR,CAAiBC,KAApB,0DAAG,sBAAyBJ,GAAzB,CAAnB;AACFC,EAAAA,OAAO,CAACI,OAAR,CAAgB,CAAhB;AAEE,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCZ,QAAQ,CAC9CO,UAAU,KAAKM,SAAf,GAA2BT,YAA3B,GAA0CG,UADI,CAAhD;AAIA,QAAMO,QAAQ,GAAGb,WAAW,CAC1B,CAACQ,KAAD,EAAQC,OAAO,GAAG,KAAlB,KAA4B;AAC1B,UAAMK,KAAK,GAAGN,KAAK,YAAYO,QAAjB,GAA4BP,KAAK,CAACE,YAAD,CAAjC,GAAkDF,KAAhE;AAEAG,IAAAA,eAAe,CAAC,MAAMG,KAAP,CAAf;AACAT,IAAAA,OAAO,CAACI,OAAR,CAAgB;AACdD,MAAAA,KAAK,EAAEC,OAAO,GAAGK,KAAH,GAAW,EAAE,GAAGT,OAAO,CAACE,QAAR,CAAiBC,KAAtB;AAA6B,SAACJ,GAAD,GAAOU;AAApC;AADX,KAAhB;AAGD,GARyB,EAS1B,CAACT,OAAD,EAAUK,YAAV,EAAwBN,GAAxB,CAT0B,CAA5B;AAYA,SAAO,CAACM,YAAD,EAAeG,QAAf,CAAP;AACD,CAtBD;;GAAMX,e;UACYD,U;;;AAuBlB,eAAeC,eAAf","sourcesContent":["import { useState, useCallback } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useHistoryState = (initialState, key) => {\r\n  const history = useHistory();\r\n  const stateValue = history.location.state?.[key];\r\nhistory.replace(0);\r\n\r\n  const [historyState, setHistoryState] = useState(\r\n    stateValue === undefined ? initialState : stateValue,\r\n  );\r\n\r\n  const setState = useCallback(\r\n    (state, replace = false) => {\r\n      const value = state instanceof Function ? state(historyState) : state;\r\n\r\n      setHistoryState(() => value);\r\n      history.replace({\r\n        state: replace ? value : { ...history.location.state, [key]: value },\r\n      });\r\n    },\r\n    [history, historyState, key],\r\n  );\r\n\r\n  return [historyState, setState];\r\n};\r\n\r\nexport default useHistoryState;"]},"metadata":{},"sourceType":"module"}