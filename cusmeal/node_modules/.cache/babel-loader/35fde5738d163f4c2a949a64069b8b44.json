{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst useHistoryState = (initialState, key) => {\n  _s();\n\n  var _history$location$sta;\n\n  const history = useHistory();\n  const stateValue = (_history$location$sta = history.location.state) === null || _history$location$sta === void 0 ? void 0 : _history$location$sta[key];\n  const [historyState, setHistoryState] = useState(stateValue === undefined ? initialState : stateValue);\n  const setState = useCallback((state, replace = false) => {\n    const value = state instanceof Function ? state(historyState) : state;\n    setHistoryState(() => value);\n    console.log(\"history0\", value);\n    history.replace({\n      state: replace ? value : { ...history.location.state,\n        [key]: value\n      }\n    });\n    console.log(\"history1\", value);\n  }, [history, historyState, key]);\n  return [historyState, setState];\n};\n\n_s(useHistoryState, \"gtJHfsF8WsvncVyLYBQ/NIA4Pzs=\", false, function () {\n  return [useHistory];\n});\n\nexport default useHistoryState;","map":{"version":3,"sources":["C:/Users/user/Desktop/이현진/sw매이커톤/16-Team-Repository/cusmeal/src/modules/useHistoryState.js"],"names":["useState","useCallback","useHistory","useHistoryState","initialState","key","history","stateValue","location","state","historyState","setHistoryState","undefined","setState","replace","value","Function","console","log"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,eAAe,GAAG,CAACC,YAAD,EAAeC,GAAf,KAAuB;AAAA;;AAAA;;AAC7C,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAMK,UAAU,4BAAGD,OAAO,CAACE,QAAR,CAAiBC,KAApB,0DAAG,sBAAyBJ,GAAzB,CAAnB;AAEA,QAAM,CAACK,YAAD,EAAeC,eAAf,IAAkCX,QAAQ,CAC9CO,UAAU,KAAKK,SAAf,GAA2BR,YAA3B,GAA0CG,UADI,CAAhD;AAIA,QAAMM,QAAQ,GAAGZ,WAAW,CAC1B,CAACQ,KAAD,EAAQK,OAAO,GAAG,KAAlB,KAA4B;AAC1B,UAAMC,KAAK,GAAGN,KAAK,YAAYO,QAAjB,GAA4BP,KAAK,CAACC,YAAD,CAAjC,GAAkDD,KAAhE;AAEAE,IAAAA,eAAe,CAAC,MAAMI,KAAP,CAAf;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBH,KAAvB;AACAT,IAAAA,OAAO,CAACQ,OAAR,CAAgB;AACdL,MAAAA,KAAK,EAAEK,OAAO,GAAGC,KAAH,GAAW,EAAE,GAAGT,OAAO,CAACE,QAAR,CAAiBC,KAAtB;AAA6B,SAACJ,GAAD,GAAOU;AAApC;AADX,KAAhB;AAGAE,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBH,KAAvB;AACD,GAVyB,EAW1B,CAACT,OAAD,EAAUI,YAAV,EAAwBL,GAAxB,CAX0B,CAA5B;AAcA,SAAO,CAACK,YAAD,EAAeG,QAAf,CAAP;AACD,CAvBD;;GAAMV,e;UACYD,U;;;AAwBlB,eAAeC,eAAf","sourcesContent":["import { useState, useCallback } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useHistoryState = (initialState, key) => {\r\n  const history = useHistory();\r\n  const stateValue = history.location.state?.[key];\r\n\r\n  const [historyState, setHistoryState] = useState(\r\n    stateValue === undefined ? initialState : stateValue,\r\n  );\r\n\r\n  const setState = useCallback(\r\n    (state, replace = false) => {\r\n      const value = state instanceof Function ? state(historyState) : state;\r\n\r\n      setHistoryState(() => value);\r\n      console.log(\"history0\",value);\r\n      history.replace({\r\n        state: replace ? value : { ...history.location.state, [key]: value },\r\n      });\r\n      console.log(\"history1\",value);\r\n    },\r\n    [history, historyState, key],\r\n  );\r\n\r\n  return [historyState, setState];\r\n};\r\n\r\nexport default useHistoryState;"]},"metadata":{},"sourceType":"module"}